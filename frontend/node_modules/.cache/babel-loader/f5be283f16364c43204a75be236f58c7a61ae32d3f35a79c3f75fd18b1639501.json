{"ast":null,"code":"import _slicedToArray from\"D:/GesPerform/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import Logo_one from'../img/document.png';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Modifierprofil(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),password=_useState2[0],setPassword=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=useState(JSON.parse(localStorage.getItem('employee_detail')).num_matricul),_useState6=_slicedToArray(_useState5,2),num_matricul=_useState6[0],setNumMatricul=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),changed=_useState8[0],setDataChanged=_useState8[1];var update=function update(){if(password===''){setError('Aucun champs vide');}else if(password!==''){setError('');fetch(\"http://127.0.0.1:8000/api/modifydata\",{method:'POST',headers:{'Accept':'application/json','Content-Type':'application/json'},body:JSON.stringify({new_password:password,num_matricul:num_matricul})}).then(function(response){return response.json();}).then(function(data){if(data.statut==='Data changed'){setDataChanged(data.statut);}//console.log(data)\n});}};return/*#__PURE__*/_jsxs(\"div\",{style:{width:'100%',display:'flex',flexDirection:'column',justifyContent:'center',alignItems:'center'},className:\"contain_rapport\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{width:'100%'},className:\"contain_rapport_header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"contain_nav_confirme\",children:/*#__PURE__*/_jsx(Link,{style:{textDecoration:'none',color:'black'},to:\"/acceuilemployee\",className:\"retour\",children:\"Retour\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"contain_img_confirm\",children:/*#__PURE__*/_jsx(\"img\",{src:Logo_one,className:\"img_confirm\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"contain_modifiy_data\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"con_inpone_rapport\",type:\"text\",placeholder:\" Nom \"}),/*#__PURE__*/_jsx(\"input\",{className:\"con_inpone_rapport\",type:\"text\",placeholder:\" Prenom \"}),/*#__PURE__*/_jsx(\"input\",{className:\"con_inpone_rapport\",type:\"text\",placeholder:\" Password \",onChange:function onChange(e){setPassword(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{className:\"con_inpone_rapport\",type:\"text\",placeholder:\" Date de naissance\"}),/*#__PURE__*/_jsx(\"input\",{className:\"con_inpone_rapport\",type:\"text\",placeholder:\" Email\"}),/*#__PURE__*/_jsx(\"input\",{className:\"con_inpone_rapport\",type:\"text\",placeholder:\" T\\xE9l\\xE9phone\"}),/*#__PURE__*/_jsx(\"input\",{className:\"con_inpone_rapport\",type:\"text\",placeholder:\"Lieu de naissance\"}),/*#__PURE__*/_jsx(\"div\",{style:{color:'red'},children:error}),/*#__PURE__*/_jsx(\"div\",{style:{color:\"green\"},children:changed}),/*#__PURE__*/_jsx(\"button\",{onClick:update,className:\"send_rapport\",children:\"Modifier mes informations\"})]})]});}export default Modifierprofil;","map":{"version":3,"names":["React","useState","Logo_one","Link","jsx","_jsx","jsxs","_jsxs","Modifierprofil","_useState","_useState2","_slicedToArray","password","setPassword","_useState3","_useState4","error","setError","_useState5","JSON","parse","localStorage","getItem","num_matricul","_useState6","setNumMatricul","_useState7","_useState8","changed","setDataChanged","update","fetch","method","headers","body","stringify","new_password","then","response","json","data","statut","style","width","display","flexDirection","justifyContent","alignItems","className","children","textDecoration","color","to","src","type","placeholder","onChange","e","target","value","onClick"],"sources":["D:/GesPerform/frontend/src/Components/Modifierprofil.js"],"sourcesContent":["import React, { useState } from 'react'\nimport Logo_one from '../img/document.png'\nimport { Link } from 'react-router-dom';\n\nfunction Modifierprofil() {\n\n    const [password, setPassword] = useState('');\n    const [error, setError] = useState('');\n    const [num_matricul , setNumMatricul] = useState(JSON.parse(localStorage.getItem('employee_detail')).num_matricul)\n    const [changed, setDataChanged] = useState('');\n    const update = () => {\n        if (password === '') {\n            setError('Aucun champs vide');\n        } else if(password !== '') {\n            setError('');\n            fetch(`http://127.0.0.1:8000/api/modifydata`, {\n                method: 'POST',\n                headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    new_password: password,\n                    num_matricul:num_matricul\n                }),\n\n            })\n            .then(response => response.json())\n            .then((data) => {\n\n                if(data.statut === 'Data changed')\n                 {setDataChanged(data.statut)}\n                    //console.log(data)\n\n\n\n                   \n\n\n\n            })\n        }\n    }\n\n    return (\n\n        <div style={{ width: '100%', display: 'flex', flexDirection: 'column', justifyContent: 'center', alignItems: 'center' }}  className='contain_rapport'>\n            <div style={{ width: '100%',}} className='contain_rapport_header'>\n                <div   className='contain_nav_confirme'>\n                    <Link style={{ textDecoration: 'none', color: 'black' }} to='/acceuilemployee' className='retour' >\n                        Retour\n                    </Link>\n\n                </div>\n\n                <div className='contain_img_confirm'>\n                    <img src={Logo_one} className='img_confirm' />\n                </div>\n            </div>\n\n\n            <div className='contain_modifiy_data' >\n\n                <input className='con_inpone_rapport' type='text' placeholder=\" Nom \"\n\n\n                />\n\n                <input className='con_inpone_rapport' type='text' placeholder=\" Prenom \"\n\n\n                />\n\n\n                <input  className='con_inpone_rapport' type='text' placeholder=\" Password \"\n\n\n                    onChange={(e) => { setPassword(e.target.value) }}\n\n\n\n                />\n\n\n                <input className='con_inpone_rapport' type='text' placeholder=\" Date de naissance\"\n\n                />\n\n\n                <input className='con_inpone_rapport' type='text' placeholder=\" Email\"\n\n                />\n\n\n\n\n                <input className='con_inpone_rapport' type='text' placeholder=\" Téléphone\"\n\n\n                />\n\n\n\n\n                <input className='con_inpone_rapport' type='text' placeholder=\"Lieu de naissance\"\n\n\n                />\n\n\n                <div style={{color:'red'}} >\n                   {\n                    error\n                   }\n                </div>\n\n                <div style = {{color : \"green\"}} >{changed}</div>\n                <button onClick={update} className='send_rapport' >\n                    Modifier mes informations \n                </button>\n\n\n            </div>\n        </div>\n\n    )\n}\n\nexport default Modifierprofil"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}