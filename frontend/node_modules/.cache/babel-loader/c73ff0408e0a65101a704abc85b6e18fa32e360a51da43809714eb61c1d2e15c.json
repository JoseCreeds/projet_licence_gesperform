{"ast":null,"code":"import _slicedToArray from\"D:/GesPerform/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{Link}from'react-router-dom';import Logo_one from'../img/document.png';import'../CSS/Fairerapport.css';import{useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Fairerapport(){var _useState=useState(JSON.parse(localStorage.getItem('employee_detail')).num_matricul),_useState2=_slicedToArray(_useState,2),userMatricul=_useState2[0],setMatricul=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),titre=_useState4[0],setTitre=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),file=_useState6[0],setFile=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),done=_useState8[0],setDone=_useState8[1];var faireUnRapport=function faireUnRapport(){var my_file=new FormData();my_file.append('image',file);my_file.append('num_matricule',userMatricul);my_file.append('titre',titre);fetch(\"http://127.0.0.1:8000/api/insererrapport\",{method:'POST',headers:{'Accept':'application/json'},body:my_file}).then(function(response){return response.json();}).then(function(data){//console.log(data)\nif(data.statut==='Done'){setDone(data.statut);}});//  console.log(file)\n};return/*#__PURE__*/_jsxs(\"div\",{className:\"contain_rapport\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"contain_rapport_header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"contain_nav_confirme\",children:/*#__PURE__*/_jsx(Link,{style:{textDecoration:'none',color:'black'},to:\"/acceuilemployee\",className:\"retour\",children:\"Retour\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"contain_img_confirm\",children:/*#__PURE__*/_jsx(\"img\",{src:Logo_one,className:\"img_confirm\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"contain_secondpart_rapport\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"contain_form_rapport\",children:[/*#__PURE__*/_jsxs(\"form\",{encType:\"multipart/form-data\",children:[/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){setTitre(e.target.value);},className:\"con_inpone_rapport\",type:\"text\",placeholder:\"Veuillez entrer le titre\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){setFile(e.target.files[0]);},className:\"con_inpone_rapport\",type:\"file\",placeholder:\"Veuillez uploader le fichier\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{color:\"green\"},children:done}),/*#__PURE__*/_jsx(\"button\",{onClick:faireUnRapport,className:\"send_rapport\",children:\"Soumettre rapport\"})]})})]});}","map":{"version":3,"names":["React","Link","Logo_one","useState","jsx","_jsx","jsxs","_jsxs","Fairerapport","_useState","JSON","parse","localStorage","getItem","num_matricul","_useState2","_slicedToArray","userMatricul","setMatricul","_useState3","_useState4","titre","setTitre","_useState5","_useState6","file","setFile","_useState7","_useState8","done","setDone","faireUnRapport","my_file","FormData","append","fetch","method","headers","body","then","response","json","data","statut","className","children","style","textDecoration","color","to","src","encType","onChange","e","target","value","type","placeholder","files","onClick"],"sources":["D:/GesPerform/frontend/src/Components/Fairerapport.js"],"sourcesContent":["import React  from 'react'\nimport { Link } from 'react-router-dom'\nimport Logo_one from '../img/document.png'\nimport '../CSS/Fairerapport.css'\nimport { useState } from 'react'\n\n\nexport default function Fairerapport() {\n  const [userMatricul , setMatricul] = useState(JSON.parse(localStorage.getItem('employee_detail')).num_matricul)\n  const [titre , setTitre] = useState('')\n  const [file , setFile ] = useState(null)\n  const [done, setDone] = useState('');\n  \n\n\n  const faireUnRapport =()=>{\n\n    const my_file = new FormData();\n    my_file.append('image', file)\n    my_file.append('num_matricule', userMatricul)\n    my_file.append('titre', titre )\n    \n\n   fetch(`http://127.0.0.1:8000/api/insererrapport`, {\n      method: 'POST',\n      headers: {\n        'Accept':'application/json',\n        \n      },\n      body:my_file,\n     \n    })\n    .then(response => response.json())\n    .then((data) =>{\n      //console.log(data)\n      if(data.statut === 'Done')\n      {setDone(data.statut)}\n    })\n \n  //  console.log(file)\n  }\n\n  return (\n    <div className='contain_rapport'>\n           \n           <div className='contain_rapport_header'>\n               <div className='contain_nav_confirme'> \n                    <Link style={{textDecoration:'none' , color:'black'}}  to='/acceuilemployee' className='retour' >\n                        Retour\n                    </Link>\n            \n                </div>  \n    \n                <div className='contain_img_confirm'>\n                    <img  src={Logo_one} className='img_confirm'/>\n                </div>  \n            </div>\n\n            <div className='contain_secondpart_rapport'>\n             \n              <div className='contain_form_rapport' >\n\n                    <form encType='multipart/form-data'>\n                          <input    onChange={(e)=>{setTitre(e.target.value) }} className='con_inpone_rapport' type='text' placeholder='Veuillez entrer le titre'/>\n                          <input    onChange={(e)=>{setFile(e.target.files[0]) }} className='con_inpone_rapport' type='file' placeholder='Veuillez uploader le fichier'/>\n                    </form>\n                    <div style = {{color : \"green\"}} >{done}</div>\n                    <button onClick={faireUnRapport} className='send_rapport' >\n                      Soumettre rapport\n                    </button>\n\n               </div>\n            </div>\n\n    </div>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}