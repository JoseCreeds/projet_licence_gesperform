{"ast":null,"code":"var _jsxFileName = \"D:\\\\GesPerform\\\\frontend\\\\src\\\\Components\\\\ConfirmerPresence.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport Logo_one from '../img/timetable.png';\nimport { Link } from 'react-router-dom';\nimport '../CSS/confirmation.css';\nimport Spinner from './Spinner';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ConfirmerPresence() {\n  _s();\n  let [loading, setLoading] = useState(false);\n  const [userMatricul, setMatricul] = useState(JSON.parse(localStorage.getItem('employee_detail')).num_matricul);\n  const [accMsg, setAccMsg] = useState('Veuillez marquer votre présence');\n  const [latitude, setLatitude] = useState(null);\n  const [longitude, setLongitude] = useState(null);\n  const validerPresence = () => {\n    setLoading(true);\n    setAccMsg('Présence marquée');\n    fetch(`https://gesperform.online/public/api/getTimeStamp`, {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        num_matricul: userMatricul\n      })\n    }).then(response => response.json()).then(data => {\n      console.log(data);\n      if (data.statut === 'OK') {\n        window.location.replace('./acceuilemployee');\n      }\n    });\n  };\n  useEffect(() => {\n    if ('geolocation' in navigator) {\n      navigator.geolocation.getCurrentPosition(position => {\n        // Obtenir les coordonnées de latitude et longitude\n        const {\n          latitude,\n          longitude\n        } = position.coords;\n        setLatitude(latitude);\n        setLongitude(longitude);\n        console.log(positions.coords);\n      }, error => {\n        console.log('Erreur de géolocalisation :', error);\n      });\n    } else {\n      console.log('La géolocalisation n\\'est pas disponible dans ce navigateur.');\n    }\n\n    //autre fonction******************************************************************\n    setTimeout(() => {\n      setLoading(false);\n    }, 2800);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"contain_confirmation\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"contain_header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"contain_nav_confirm\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          style: {\n            textDecoration: 'none',\n            color: 'black'\n          },\n          to: \"/acceuilemployee\",\n          className: \"retour\",\n          children: \"Retour\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"contain_img_confirm\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: Logo_one,\n          className: \"img_confirm\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 16\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"contain_my_second_part\",\n      children: loading ? /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"\",\n        children: /*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"\",\n          children: accMsg\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      onClick: validerPresence,\n      style: {\n        textDecoration: 'none',\n        color: 'black'\n      },\n      to: \"\",\n      className: \"retour\",\n      children: \"Valider ma presence\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n}\n_s(ConfirmerPresence, \"p/kEGe6vq2XhiwlY3JZwD1XZVSE=\");\n_c = ConfirmerPresence;\nvar _c;\n$RefreshReg$(_c, \"ConfirmerPresence\");","map":{"version":3,"names":["React","useEffect","useState","Logo_one","Link","Spinner","jsxDEV","_jsxDEV","ConfirmerPresence","_s","loading","setLoading","userMatricul","setMatricul","JSON","parse","localStorage","getItem","num_matricul","accMsg","setAccMsg","latitude","setLatitude","longitude","setLongitude","validerPresence","fetch","method","headers","body","stringify","then","response","json","data","console","log","statut","window","location","replace","navigator","geolocation","getCurrentPosition","position","coords","positions","error","setTimeout","className","children","style","textDecoration","color","to","fileName","_jsxFileName","lineNumber","columnNumber","src","onClick","_c","$RefreshReg$"],"sources":["D:/GesPerform/frontend/src/Components/ConfirmerPresence.js"],"sourcesContent":["import React , {useEffect, useState} from 'react'\nimport Logo_one from '../img/timetable.png'\nimport { Link } from 'react-router-dom'\nimport '../CSS/confirmation.css'\nimport Spinner from './Spinner'\n\n\n\nexport default function ConfirmerPresence() {\n  let [loading, setLoading] = useState(false);\n  const [userMatricul , setMatricul] = useState(JSON.parse(localStorage.getItem('employee_detail')).num_matricul)\n  const [accMsg , setAccMsg] = useState('Veuillez marquer votre présence')\n\n  const [latitude, setLatitude] = useState(null);\n  const [longitude, setLongitude] = useState(null);\n\n  const validerPresence = ()=>{\n    setLoading(true) ; \n    setAccMsg('Présence marquée')\n    fetch(`https://gesperform.online/public/api/getTimeStamp`, {\n      method: 'POST',\n      headers: {\n        'Accept':'application/json',\n        'Content-Type':'application/json'\n      },\n      body:JSON.stringify({\n        num_matricul: userMatricul , \n      }) \n     \n    })\n    .then(response => response.json())\n    .then((data) =>{\n      console.log(data)\n      if(data.statut === 'OK'){\n        window.location.replace('./acceuilemployee')\n      }\n    })\n    \n  }\n\n\n\n\n  useEffect(()=>{\n   \n\n    if ('geolocation' in navigator) {\n      navigator.geolocation.getCurrentPosition(\n        (position) => {\n          // Obtenir les coordonnées de latitude et longitude\n          const { latitude, longitude } = position.coords;\n          setLatitude(latitude);\n          setLongitude(longitude);\n          console.log(positions.coords);\n\n  \n        },\n        (error) => {\n          console.log('Erreur de géolocalisation :', error);\n        }\n      );\n    } else {\n      console.log('La géolocalisation n\\'est pas disponible dans ce navigateur.');\n    }\n\n//autre fonction******************************************************************\n    setTimeout(()=>{\n      setLoading(false)\n    } , 2800)\n  }, [])\n\n\n  return (\n    <div className='contain_confirmation'>\n       \n        <div className='contain_header'>\n            <div className='contain_nav_confirm'>\n                \n              <Link style={{textDecoration:'none' , color:'black'}}  to='/acceuilemployee' className='retour' >\n                  Retour\n              </Link>\n        \n            </div>  \n\n            <div className='contain_img_confirm'>\n               <img  src={Logo_one} className='img_confirm'/>\n            </div>  \n        </div>\n\n\n        <div className='contain_my_second_part'>\n          {\n            loading?  \n            <Spinner\n          \n            />\n            :\n            <div className='' >\n                <h4 className=''>\n                  {accMsg}\n                </h4>\n            </div>\n\n         }\n        </div>\n\n        <Link onClick={validerPresence} style={{textDecoration:'none' , color:'black'}}  to='' className='retour' >\n            Valider ma presence\n        </Link>\n\n\n\n    </div>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}