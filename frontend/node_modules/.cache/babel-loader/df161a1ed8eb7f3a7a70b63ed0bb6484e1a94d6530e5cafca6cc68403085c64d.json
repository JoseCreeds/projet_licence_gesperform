{"ast":null,"code":"import _slicedToArray from\"D:/GesPerform/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import Logo_one from'../img/timetable.png';import{Link}from'react-router-dom';import'../CSS/confirmation.css';import Spinner from'./Spinner';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function ConfirmerPresence(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState(JSON.parse(localStorage.getItem('employee_detail')).num_matricul),_useState4=_slicedToArray(_useState3,2),userMatricul=_useState4[0],setMatricul=_useState4[1];var _useState5=useState('Veuillez marquer votre présence'),_useState6=_slicedToArray(_useState5,2),accMsg=_useState6[0],setAccMsg=_useState6[1];var validerPresence=function validerPresence(){setLoading(true);setAccMsg('Présence marquée');fetch(\"https://gesperform.online/public/api/getTimeStamp\",{method:'POST',headers:{'Accept':'application/json','Content-Type':'application/json'},body:JSON.stringify({num_matricul:userMatricul})}).then(function(response){return response.json();}).then(function(data){console.log(data);if(data.statut==='OK'){window.location.replace('./acceuilemployee');}});};useEffect(function(){setTimeout(function(){setLoading(false);},2800);},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"contain_confirmation\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"contain_header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"contain_nav_confirm\",children:/*#__PURE__*/_jsx(Link,{style:{textDecoration:'none',color:'black'},to:\"/acceuilemployee\",className:\"retour\",children:\"Retour\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"contain_img_confirm\",children:/*#__PURE__*/_jsx(\"img\",{src:Logo_one,className:\"img_confirm\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"contain_my_second_part\",children:loading?/*#__PURE__*/_jsx(Spinner,{}):/*#__PURE__*/_jsx(\"div\",{className:\"\",children:/*#__PURE__*/_jsx(\"h4\",{className:\"\",children:accMsg})})}),/*#__PURE__*/_jsx(Link,{onClick:validerPresence,style:{textDecoration:'none',color:'black'},to:\"\",className:\"retour\",children:\"Valider ma presence\"})]});}","map":{"version":3,"names":["React","useEffect","useState","Logo_one","Link","Spinner","jsx","_jsx","jsxs","_jsxs","ConfirmerPresence","_useState","_useState2","_slicedToArray","loading","setLoading","_useState3","JSON","parse","localStorage","getItem","num_matricul","_useState4","userMatricul","setMatricul","_useState5","_useState6","accMsg","setAccMsg","validerPresence","fetch","method","headers","body","stringify","then","response","json","data","console","log","statut","window","location","replace","setTimeout","className","children","style","textDecoration","color","to","src","onClick"],"sources":["D:/GesPerform/frontend/src/Components/ConfirmerPresence.js"],"sourcesContent":["import React , {useEffect, useState} from 'react'\nimport Logo_one from '../img/timetable.png'\nimport { Link } from 'react-router-dom'\nimport '../CSS/confirmation.css'\nimport Spinner from './Spinner'\n\n\n\nexport default function ConfirmerPresence() {\n  let [loading, setLoading] = useState(false);\n  const [userMatricul , setMatricul] = useState(JSON.parse(localStorage.getItem('employee_detail')).num_matricul)\n  const [accMsg , setAccMsg] = useState('Veuillez marquer votre présence')\n\n  const validerPresence = ()=>{\n    setLoading(true) ; \n    setAccMsg('Présence marquée')\n    fetch(`https://gesperform.online/public/api/getTimeStamp`, {\n      method: 'POST',\n      headers: {\n        'Accept':'application/json',\n        'Content-Type':'application/json'\n      },\n      body:JSON.stringify({\n        num_matricul: userMatricul , \n      }) \n     \n    })\n    .then(response => response.json())\n    .then((data) =>{\n      console.log(data)\n      if(data.statut === 'OK'){\n        window.location.replace('./acceuilemployee')\n      }\n    })\n    \n  }\n\n\n  useEffect(()=>{\n   \n    setTimeout(()=>{\n      setLoading(false)\n    } , 2800)\n  }, [])\n\n\n  return (\n    <div className='contain_confirmation'>\n       \n        <div className='contain_header'>\n            <div className='contain_nav_confirm'>\n                \n              <Link style={{textDecoration:'none' , color:'black'}}  to='/acceuilemployee' className='retour' >\n                  Retour\n              </Link>\n        \n            </div>  \n\n            <div className='contain_img_confirm'>\n               <img  src={Logo_one} className='img_confirm'/>\n            </div>  \n        </div>\n\n\n        <div className='contain_my_second_part'>\n          {\n            loading?  \n            <Spinner\n          \n            />\n            :\n            <div className='' >\n                <h4 className=''>\n                  {accMsg}\n                </h4>\n            </div>\n\n         }\n        </div>\n\n        <Link onClick={validerPresence} style={{textDecoration:'none' , color:'black'}}  to='' className='retour' >\n            Valider ma presence\n        </Link>\n\n\n\n    </div>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}